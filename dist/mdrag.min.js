var mdrag=function(){"use strict";function e(e){function n(e){return function(t){var n=s[e];if(n){var o=n.e=n.config.getEvent(t);n.target=this,n.ox=o.ox||o.pageX,n.oy=o.oy||o.pageY;var r=n.config.onstart;r&&r.call(this,t,n)===!1||(n.type=t.type)}}}function o(t){for(var n in s){var o=s[n];if(o.type){var a=o.config,i=o.e=a.getEvent(t,o),u=[o.pageX,o.pageY,o.dx,o.dy];o.pageX=i.pageX,o.pageY=i.pageY,o.dx=o.ox-i.pageX,o.dy=o.oy-i.pageY;var c=a.onmove;if(c&&c(t,o)===!1)return e.revertOnFail&&(o.dy=u.pop(),o.dx=u.pop(),o.pageY=u.pop(),o.pageX=u.pop()),r(t)}}}function r(e){for(var t in s){var n=s[t];if(n.type){n.e=n.config.getEvent(e);var o=n.config.onend;o&&o(e,n),n.type=null,n.dx=n.dy=0}}}function a(e){if(0===arguments.length)return s;e=e||{},e.getEvent=e.getEvent||function(e){return/touch/.test(e.type)?/end/.test(e.type)?e.changedTouches[0]:e.touches[0]:e};var t=e.name||"$"+p++;s[t]&&s[t].destroy(!0);var o=n(t),r={name:t,config:e,start:o,root:s},a=e.el;return a&&(a.addEventListener(d,o,c),a.mdrag=r),r.destroy=function(n){var i=e.ondestroy;!n&&i&&i(n,r)===!1||(a&&a.removeEventListener(d,o,c),delete s[t],r.destroyed=!0)},o.mdrag=s[t]=r,o}e=e||{};for(var i in t)i in e||(e[i]=t[i]);var u=e.touch,c=e.larg,d=e.startE||(u?"touchstart":"mousedown"),v=e.moveE||(u?"touchmove":"mousemove"),g=e.endE||(u?"touchend":"mouseup"),s={},p=0;return document.addEventListener(v,o,c),document.addEventListener(g,r,c),a.destroyAll=function(){for(var e in s)s[e].destroy(!0);document.removeEventListener(v,o,c),document.removeEventListener(g,r,c)},a.options=e,a}var t={revertOnFail:!0,larg:!1,touch:"ontouchstart"in window||"DocumentTouch"in window&&document instanceof DocumentTouch};return e}();
//# sourceMappingURL=mdrag.min.js.map