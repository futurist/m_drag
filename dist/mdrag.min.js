var mdrag=function(){"use strict";function e(e){function o(e){return function(t){var n=/touch/.test(t.type)?t.touches[0]:t,o=s[e];o&&(o.target=this,o.ox=n.ox||n.pageX,o.oy=n.oy||n.pageY,o.state.onstart&&o.state.onstart.call(this,t,o,s)===!1||(o.type=t.type))}}function r(t){var n=/touch/.test(t.type)?t.touches[0]:t,o=!1;for(var r in s){var u=s[r];if(u.type){o=!0;var i=[u.pageX,u.pageY,u.dx,u.dy];if(u.pageX=n.pageX,u.pageY=n.pageY,u.dx=u.ox-n.pageX,u.dy=u.oy-n.pageY,u.move&&u.move(t,u,s)===!1)return e.revertOnFail&&(u.dy=i.pop(),u.dx=i.pop(),u.pageY=i.pop(),u.pageX=i.pop()),a(t)}}o&&t.preventDefault()}function a(e){for(var t in s){var n=s[t];n.type&&(n.up&&n.up(e,n,s),n.type=null,n.dx=n.dy=0)}}function u(e,t,n){if(0===arguments.length)return s;"function"==typeof e&&(n=t,t=e,e={});var r=e.name=e.name||"$"+m++;s[r]&&s[r].destroy();var a=o(r),u={name:r,state:e||{},start:a,move:t,end:n},i=e.el;return i&&(i.addEventListener(p,a,c),i.mdrag=u),u.destroy=function(){i&&i.removeEventListener(p,a,c),s[r]=null},s[r]=u,a}e=e||{};for(var i in t)i in e||(e[i]=t[i]);"touch"in e&&(n=e.touch);var c="larg"in e&&e.larg,p=n?"touchstart":"mousedown",v=n?"touchmove":"mousemove",d=n?"touchend":"mouseup",s={},m=0;return document.addEventListener(v,r,c),document.addEventListener(d,a,c),u.destroyAll=function(){s={},document.removeEventListener(v,r,c),document.removeEventListener(d,a,c)},u}var t={revertOnFail:!0},n="ontouchstart"in window||"DocumentTouch"in window&&document instanceof DocumentTouch;return e}();
//# sourceMappingURL=mdrag.min.js.map