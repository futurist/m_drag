var mdrag=function(){"use strict";function e(e){return e.split(/\s*,\s*/g)}function n(n){function o(e){return function(n){var t=g[e];if(t){var o=t.e=t.config.getEvent(n);t.target=this,t.ox=o.ox||o.pageX,t.oy=o.oy||o.pageY;var r=t.config.onstart;r&&r.call(this,n,t)===!1||(t.type=n.type)}}}function r(e){for(var t in g){var o=g[t];if(o.type){var r=o.config,c=o.e=r.getEvent(e,o),u=[o.pageX,o.pageY,o.dx,o.dy];o.pageX=c.pageX,o.pageY=c.pageY,o.dx=o.ox-c.pageX,o.dy=o.oy-c.pageY;var i=r.onmove;if(i&&i(e,o)===!1)return n.revertOnFail&&(o.dy=u.pop(),o.dx=u.pop(),o.pageY=u.pop(),o.pageX=u.pop()),a(e)}}}function a(e){for(var n in g){var t=g[n];if(t.type){t.e=t.config.getEvent(e);var o=t.config.onend;o&&o(e,t),t.type=null,t.dx=t.dy=0}}}function c(e){if(0===arguments.length)return g;e=e||{},e.getEvent=e.getEvent||function(e){return/touch/.test(e.type)?e.changedTouches&&e.changedTouches[0]||e.touches[0]:e};var t=e.name||"$"+p++;g[t]&&g[t].destroy(!0);var r=o(t),a={name:t,config:e,start:r,root:g,options:n},c=e.el;return c&&(v.forEach(function(e){c.addEventListener(e,r,f)}),c.mdrag=a),a.destroy=function(n){var o=e.ondestroy;!n&&o&&o(n,a)===!1||(c&&v.forEach(function(e){c.removeEventListener(e,r,f)}),delete g[t],a.destroyed=!0)},r.mdrag=g[t]=a,r}n=n||{};for(var u in t)u in n||(n[u]=t[u]);var i=n.touch,f=n.larg,v=n.startE||e(i?"touchstart":"mousedown"),d=n.moveE||e(i?"touchmove":"mousemove"),s=n.endE||e(i?"touchend,touchcancel":"mouseup,mouseleave"),g={},p=0;return d.forEach(function(e){document.addEventListener(e,r,f)}),s.forEach(function(e){document.addEventListener(e,a,f)}),c.destroyAll=function(){for(var e in g)g[e].destroy(!0);d.forEach(function(e){document.removeEventListener(e,r,f)}),s.forEach(function(e){document.removeEventListener(e,a,f)})},c}var t={revertOnFail:!0,larg:!1,touch:"ontouchstart"in window||"DocumentTouch"in window&&document instanceof DocumentTouch};return n}();
//# sourceMappingURL=mdrag.min.js.map